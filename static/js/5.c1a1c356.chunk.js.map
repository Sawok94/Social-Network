{"version":3,"sources":["hoc/withAuthRedirect.jsx","utils/validators/validators.js","utils/validators/Forms/ValidationForms.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/use-isomorphic-layout-effect/dist/use-isomorphic-layout-effect.browser.esm.js","../node_modules/use-latest/dist/use-latest.esm.js","../node_modules/use-composed-ref/dist/use-composed-ref.esm.js","../node_modules/react-textarea-autosize/dist/react-textarea-autosize.browser.esm.js","utils/validators/Forms/ValidationForms.js","selectors/users-selectors.js","components/Main/Messages/Messages.module.css","components/Main/Messages/ListFriends/ListFriends.module.css","components/Main/Messages/ListFriends/FriendsProfileMessages/FriendsProfileMessages.module.css","components/Main/Messages/ListMessages/ListMessages.module.css","utils/OverallComponents/Message/Message.module.css","components/Main/Messages/AddMessage/AddMessage.module.css","components/Main/Messages/ListFriends/FriendsProfileMessages/FriendsProfileMessages.jsx","components/Main/Messages/ListFriends/ListFriends.jsx","selectors/messages-selectors .js","utils/OverallComponents/Message/Message.jsx","components/Main/Messages/ListMessages/ListMessages.jsx","components/Main/Messages/ListMessages/ListMessagesContainer.jsx","components/Main/Messages/AddMessage/AddMessage.jsx","components/Main/Messages/Messages.jsx","components/Main/Messages/MessagesContainer.jsx"],"names":["withAuthRedirect","Component","connect","mapStateToProps","props","isAuth","to","state","getIsAuth","required","value","maxLength","number","length","module","exports","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","index","useLayoutEffect","useLatest","ref","useRef","useIsomorphicLayoutEffect","current","updateRef","useComposedRef","libRef","userRef","prevUserRef","useCallback","instance","HIDDEN_TEXTAREA_STYLE","height","visibility","overflow","position","top","right","forceHiddenStyles","node","forEach","style","setProperty","hiddenTextarea","noop","SIZING_STYLE","isIE","document","documentElement","currentStyle","TextareaAutosize","_ref","cacheMeasurements","maxRows","minRows","_ref$onChange","onChange","_ref$onHeightChange","onHeightChange","_objectWithoutPropertiesLoose","isControlled","undefined","heightRef","measurementsCacheRef","resizeTextarea","nodeSizingData","window","getComputedStyle","obj","sizingStyle","reduce","acc","prop","boxSizing","width","parseFloat","borderRightWidth","borderLeftWidth","paddingRight","paddingLeft","paddingSize","paddingBottom","paddingTop","borderSize","borderBottomWidth","borderTopWidth","getSizingData","_calculateNodeHeight","sizingData","Infinity","createElement","setAttribute","parentNode","body","appendChild","_key","scrollHeight","getHeight","rowHeight","minHeight","Math","max","maxHeight","min","calculateNodeHeight","placeholder","listener","latestListener","handler","event","addEventListener","removeEventListener","useWindowResizeListener","_extends","forwardRef","Textarea","input","meta","hasError","touched","error","className","input_successful","input_error","text_error","Input","getUsersProfiles","users","profiles","getUsersCurrentPage","currentPage","getUsersSizePage","sizePage","getUsersTotalCount","totalCount","getUsersSearchName","searchName","getUsersSearchFriends","searchFriends","getUsersFollowingInProgress","followingInProgress","FriendsProfileMessages","friendsProfile","id","friendsProfile_link","Avatar","photo","friendsProfile_link_name","name","ListFriends","listFriends","map","profile","photos","small","getMessages","messages","Message","message","message__name","login","message__date","dateMessage","message__text","textMessage","ListMessages","listMessages","border","wrapper","getAuthLogin","getMyProfile","maxLengthVal","reduxForm","form","onSubmitSuccess","result","dispatch","reset","addMessageForm","onSubmit","handleSubmit","message__form","Field","component","message__form_field","validate","cols","message__form_button","Messages","getUserProfile","addMessage","useEffect","clickDate","Date","options","hour","minute","ListMessagesContainer","AddMessage","textArea","trim","toLocaleString","compose","withRouter"],"mappings":"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","file":"static/js/5.c1a1c356.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { getIsAuth } from '../selectors/auth-selectors';\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  const AuthRedirect = (props) => {\r\n    if (!props.isAuth) {\r\n      return <Redirect to='/login' />;\r\n    }\r\n\r\n    return <Component {...props} />;\r\n  };\r\n\r\n  let RedirectContainer = connect(mapStateToProps)(AuthRedirect);\r\n\r\n  return RedirectContainer;\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: getIsAuth(state),\r\n});\r\n","export const required = (value) => {\r\n  if (!value) return 'Поле обязательно для заполнения';\r\n  return undefined;\r\n};\r\n\r\nexport const maxLength = (number) => (value) => {\r\n  if (value && value.length > number)\r\n    return `Максимальная длина ${number} символов`;\r\n  return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input_successful\":\"ValidationForms_input_successful__1OJyI\",\"input_error\":\"ValidationForms_input_error__n5M-D\",\"text_error\":\"ValidationForms_text_error__1yU9Q\"};","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useLayoutEffect } from 'react';\n\nvar index =  useLayoutEffect ;\n\nexport default index;\n","import { useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\n\nvar useLatest = function useLatest(value) {\n  var ref = useRef(value);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n};\n\nexport default useLatest;\n","import { useRef, useCallback } from 'react';\n\nvar updateRef = function updateRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n  ref.current = value;\n};\n\nvar useComposedRef = function useComposedRef(libRef, userRef) {\n  var prevUserRef = useRef();\n  return useCallback(function (instance) {\n    libRef.current = instance;\n\n    if (prevUserRef.current) {\n      updateRef(prevUserRef.current, null);\n    }\n\n    prevUserRef.current = userRef;\n\n    if (!userRef) {\n      return;\n    }\n\n    updateRef(userRef, instance);\n  }, [userRef]);\n};\n\nexport default useComposedRef;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useLayoutEffect, forwardRef, useRef, createElement } from 'react';\nimport useLatest from 'use-latest';\nimport useComposedRef from 'use-composed-ref';\n\nvar HIDDEN_TEXTAREA_STYLE = {\n  'min-height': '0',\n  'max-height': 'none',\n  height: '0',\n  visibility: 'hidden',\n  overflow: 'hidden',\n  position: 'absolute',\n  'z-index': '-1000',\n  top: '0',\n  right: '0'\n};\n\nvar forceHiddenStyles = function forceHiddenStyles(node) {\n  Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function (key) {\n    node.style.setProperty(key, HIDDEN_TEXTAREA_STYLE[key], 'important');\n  });\n};\n\n//   export type CalculatedNodeHeights = [height: number, rowHeight: number];\n// https://github.com/microsoft/TypeScript/issues/28259\n\nvar hiddenTextarea = null;\n\nvar getHeight = function getHeight(node, sizingData) {\n  var height = node.scrollHeight;\n\n  if (sizingData.sizingStyle.boxSizing === 'border-box') {\n    // border-box: add border, since height = content + padding + border\n    return height + sizingData.borderSize;\n  } // remove padding, since height = content\n\n\n  return height - sizingData.paddingSize;\n};\n\nfunction calculateNodeHeight(sizingData, value, minRows, maxRows) {\n  if (minRows === void 0) {\n    minRows = 1;\n  }\n\n  if (maxRows === void 0) {\n    maxRows = Infinity;\n  }\n\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea');\n    hiddenTextarea.setAttribute('tabindex', '-1');\n    hiddenTextarea.setAttribute('aria-hidden', 'true');\n    forceHiddenStyles(hiddenTextarea);\n  }\n\n  if (hiddenTextarea.parentNode === null) {\n    document.body.appendChild(hiddenTextarea);\n  }\n\n  var paddingSize = sizingData.paddingSize,\n      borderSize = sizingData.borderSize,\n      sizingStyle = sizingData.sizingStyle;\n  var boxSizing = sizingStyle.boxSizing;\n  Object.keys(sizingStyle).forEach(function (_key) {\n    var key = _key;\n    hiddenTextarea.style[key] = sizingStyle[key];\n  });\n  forceHiddenStyles(hiddenTextarea);\n  hiddenTextarea.value = value;\n  var height = getHeight(hiddenTextarea, sizingData); // measure height of a textarea with a single row\n\n  hiddenTextarea.value = 'x';\n  var rowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  var minHeight = rowHeight * minRows;\n\n  if (boxSizing === 'border-box') {\n    minHeight = minHeight + paddingSize + borderSize;\n  }\n\n  height = Math.max(minHeight, height);\n  var maxHeight = rowHeight * maxRows;\n\n  if (boxSizing === 'border-box') {\n    maxHeight = maxHeight + paddingSize + borderSize;\n  }\n\n  height = Math.min(maxHeight, height);\n  return [height, rowHeight];\n}\n\nvar noop = function noop() {};\nvar pick = function pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n};\n\nvar SIZING_STYLE = ['borderBottomWidth', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'boxSizing', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight', 'letterSpacing', 'lineHeight', 'paddingBottom', 'paddingLeft', 'paddingRight', 'paddingTop', // non-standard\n'tabSize', 'textIndent', // non-standard\n'textRendering', 'textTransform', 'width', 'wordBreak'];\nvar isIE = !!document.documentElement.currentStyle ;\n\nvar getSizingData = function getSizingData(node) {\n  var style = window.getComputedStyle(node);\n\n  if (style === null) {\n    return null;\n  }\n\n  var sizingStyle = pick(SIZING_STYLE, style);\n  var boxSizing = sizingStyle.boxSizing; // probably node is detached from DOM, can't read computed dimensions\n\n  if (boxSizing === '') {\n    return null;\n  } // IE (Edge has already correct behaviour) returns content width as computed width\n  // so we need to add manually padding and border widths\n\n\n  if (isIE && boxSizing === 'border-box') {\n    sizingStyle.width = parseFloat(sizingStyle.width) + parseFloat(sizingStyle.borderRightWidth) + parseFloat(sizingStyle.borderLeftWidth) + parseFloat(sizingStyle.paddingRight) + parseFloat(sizingStyle.paddingLeft) + 'px';\n  }\n\n  var paddingSize = parseFloat(sizingStyle.paddingBottom) + parseFloat(sizingStyle.paddingTop);\n  var borderSize = parseFloat(sizingStyle.borderBottomWidth) + parseFloat(sizingStyle.borderTopWidth);\n  return {\n    sizingStyle: sizingStyle,\n    paddingSize: paddingSize,\n    borderSize: borderSize\n  };\n};\n\nvar useWindowResizeListener = function useWindowResizeListener(listener) {\n  var latestListener = useLatest(listener);\n  useLayoutEffect(function () {\n    var handler = function handler(event) {\n      latestListener.current(event);\n    };\n\n    window.addEventListener('resize', handler);\n    return function () {\n      window.removeEventListener('resize', handler);\n    };\n  }, []);\n};\n\nvar TextareaAutosize = function TextareaAutosize(_ref, userRef) {\n  var cacheMeasurements = _ref.cacheMeasurements,\n      maxRows = _ref.maxRows,\n      minRows = _ref.minRows,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n      _ref$onHeightChange = _ref.onHeightChange,\n      onHeightChange = _ref$onHeightChange === void 0 ? noop : _ref$onHeightChange,\n      props = _objectWithoutPropertiesLoose(_ref, [\"cacheMeasurements\", \"maxRows\", \"minRows\", \"onChange\", \"onHeightChange\"]);\n\n  if (process.env.NODE_ENV !== 'production' && props.style) {\n    if ('maxHeight' in props.style) {\n      throw new Error('Using `style.maxHeight` for <TextareaAutosize/> is not supported. Please use `maxRows`.');\n    }\n\n    if ('minHeight' in props.style) {\n      throw new Error('Using `style.minHeight` for <TextareaAutosize/> is not supported. Please use `minRows`.');\n    }\n  }\n\n  var isControlled = props.value !== undefined;\n  var libRef = useRef(null);\n  var ref = useComposedRef(libRef, userRef);\n  var heightRef = useRef(0);\n  var measurementsCacheRef = useRef();\n\n  var resizeTextarea = function resizeTextarea() {\n    var node = libRef.current;\n    var nodeSizingData = cacheMeasurements && measurementsCacheRef.current ? measurementsCacheRef.current : getSizingData(node);\n\n    if (!nodeSizingData) {\n      return;\n    }\n\n    measurementsCacheRef.current = nodeSizingData;\n\n    var _calculateNodeHeight = calculateNodeHeight(nodeSizingData, node.value || node.placeholder || 'x', minRows, maxRows),\n        height = _calculateNodeHeight[0],\n        rowHeight = _calculateNodeHeight[1];\n\n    if (heightRef.current !== height) {\n      heightRef.current = height;\n      node.style.setProperty('height', height + \"px\", 'important');\n      onHeightChange(height, {\n        rowHeight: rowHeight\n      });\n    }\n  };\n\n  var handleChange = function handleChange(event) {\n    if (!isControlled) {\n      resizeTextarea();\n    }\n\n    onChange(event);\n  };\n\n  {\n    useLayoutEffect(resizeTextarea);\n    useWindowResizeListener(resizeTextarea);\n  }\n\n  return /*#__PURE__*/createElement(\"textarea\", _extends({}, props, {\n    onChange: handleChange,\n    ref: ref\n  }));\n};\n\nvar index = /* #__PURE__ */forwardRef(TextareaAutosize);\n\nexport default index;\n","import React from 'react';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport style from './ValidationForms.module.css';\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div>\r\n      <TextareaAutosize\r\n        className={`${style.input_successful} ${hasError && style.input_error}`}\r\n        {...props}\r\n        {...input}\r\n      />\r\n      {hasError && (\r\n        <div className={style.text_error}>\r\n          &#9940;\r\n          {meta.error}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        className={`${style.input_successful} ${hasError && style.input_error}`}\r\n        {...props}\r\n        {...input}\r\n      />\r\n      {hasError && (\r\n        <div className={style.text_error}>\r\n          &#9940;\r\n          {meta.error}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export const getUsersProfiles = (state) => {\r\n  return state.users.profiles;\r\n};\r\nexport const getUsersCurrentPage = (state) => {\r\n  return state.users.currentPage;\r\n};\r\nexport const getUsersSizePage = (state) => {\r\n  return state.users.sizePage;\r\n};\r\nexport const getUsersTotalCount = (state) => {\r\n  return state.users.totalCount;\r\n};\r\nexport const getUsersSearchName = (state) => {\r\n  return state.users.searchName;\r\n};\r\nexport const getUsersSearchFriends = (state) => {\r\n  return state.users.searchFriends;\r\n};\r\nexport const getUsersFollowingInProgress = (state) => {\r\n  return state.users.followingInProgress;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__3zjoD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listFriends\":\"ListFriends_listFriends__1d1fY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsProfile\":\"FriendsProfileMessages_friendsProfile__1Ivb7\",\"friendsProfile_link\":\"FriendsProfileMessages_friendsProfile_link__klRx9\",\"friendsProfile_link_name\":\"FriendsProfileMessages_friendsProfile_link_name__1Ut5Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listMessages\":\"ListMessages_listMessages__2o9GQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__C9AXd\",\"message__name\":\"Message_message__name__2YkQU\",\"message__date\":\"Message_message__date__2lAMm\",\"message__text\":\"Message_message__text__2VbBx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addMessageForm\":\"AddMessage_addMessageForm__1gaKa\",\"message__form\":\"AddMessage_message__form__wJOc9\",\"message__form_field\":\"AddMessage_message__form_field__22q6M\",\"message__form_button\":\"AddMessage_message__form_button__P92vD\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Avatar from '../../../../../utils/OverallComponents/Avatar/Avatar';\r\nimport style from './FriendsProfileMessages.module.css';\r\n\r\nconst FriendsProfileMessages = (props) => {\r\n  return (\r\n    <li className={style.friendsProfile}>\r\n      <NavLink\r\n        to={'/messages/' + props.id}\r\n        className={style.friendsProfile_link}\r\n      >\r\n        <Avatar photo={props.photo} style={`avatar__small`} />\r\n        <figcaption className={style.friendsProfile_link_name}>\r\n          {props.name}\r\n        </figcaption>\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default FriendsProfileMessages;\r\n","import React from 'react';\r\nimport style from '../../Messages/ListFriends/ListFriends.module.css';\r\nimport FriendsProfileMessages from './FriendsProfileMessages/FriendsProfileMessages';\r\n\r\nconst ListFriends = (props) => {\r\n  return (\r\n    <article className={style.listFriends}>\r\n      <ul>\r\n        {props.profiles &&\r\n          props.profiles.map((profile) => {\r\n            return (\r\n              <FriendsProfileMessages\r\n                key={profile.id}\r\n                id={profile.id}\r\n                name={profile.name}\r\n                photo={profile.photos.small}\r\n              />\r\n            );\r\n          })}\r\n      </ul>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default ListFriends;\r\n","export const getMessages = (state) => {\r\n  return state.messages.messages;\r\n};\r\n\r\n","import React from 'react';\r\nimport Avatar from '../Avatar/Avatar';\r\nimport style from '../Message/Message.module.css';\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <section className={style.message}>\r\n      <Avatar photo={props.photo} style={`avatar__small`} />\r\n      <div>\r\n        <div className={style.message__name}>\r\n          <b>{props.login}</b>\r\n          <i className={style.message__date}>{props.dateMessage}</i>\r\n        </div>\r\n        <div className={style.message__text}>{props.textMessage}</div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport style from '../../Messages/ListMessages/ListMessages.module.css';\r\nimport border from '../../Main.module.css';\r\nimport Message from '../../../../utils/OverallComponents/Message/Message';\r\n\r\nconst ListMessages = (props) => {\r\n  return (\r\n    <article className={`${style.listMessages} ${border.wrapper}`}>\r\n      {props.profile &&\r\n        props.messages.map((message) => (\r\n          <Message\r\n            key={message.id}\r\n            login={props.login}\r\n            photo={props.profile.photos.small}\r\n            textMessage={message.textMessage}\r\n            dateMessage={message.dateMessage}\r\n          />\r\n        ))}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default ListMessages;\r\n","import { connect } from 'react-redux';\r\nimport { getMyProfile } from '../../../../selectors/app-selectors ';\r\nimport { getAuthLogin } from '../../../../selectors/auth-selectors';\r\nimport { getMessages } from '../../../../selectors/messages-selectors ';\r\nimport ListMessages from './ListMessages';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    messages: getMessages(state),\r\n    login: getAuthLogin(state),\r\n    profile: getMyProfile(state),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ListMessages);\r\n","import React from 'react';\r\nimport { Field, reduxForm, reset } from 'redux-form';\r\nimport style from './AddMessage.module.css';\r\nimport border from '../../Main.module.css';\r\nimport { maxLength, required } from '../../../../utils/validators/validators';\r\nimport { Textarea } from '../../../../utils/validators/Forms/ValidationForms';\r\n\r\nconst maxLengthVal = maxLength(500);\r\n\r\nconst afterSubmit = (result, dispatch) => dispatch(reset('message'));\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <article className={style.addMessageForm}>\r\n      <div className={border.wrapper}>\r\n        <form onSubmit={props.handleSubmit} className={style.message__form}>\r\n          <Field\r\n            placeholder=' Введите текст сообщения...'\r\n            name='textArea'\r\n            component={Textarea}\r\n            className={style.message__form_field}\r\n            validate={[required, maxLengthVal]}\r\n            cols='40'\r\n            minRows='2'\r\n            maxRows='2'\r\n          />\r\n          <button className={style.message__form_button}>\r\n            <b>Отправить</b>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default reduxForm({\r\n  form: 'message',\r\n  onSubmitSuccess: afterSubmit,\r\n})(AddMessageForm);\r\n","import React, { useEffect } from 'react';\r\nimport style from '../Messages/Messages.module.css';\r\nimport ListFriends from './ListFriends/ListFriends';\r\nimport ListMessagesContainer from './ListMessages/ListMessagesContainer';\r\nimport AddMessageForm from './AddMessage/AddMessage';\r\n\r\nconst Messages = ({\r\n  getUserProfile,\r\n  currentPage,\r\n  sizePage,\r\n  searchName,\r\n  searchFriends,\r\n  profiles,\r\n  addMessage,\r\n}) => {\r\n  useEffect(() => {\r\n    getUserProfile(currentPage, sizePage, searchName, searchFriends);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const clickDate = new Date();\r\n  const options = {\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n  };\r\n\r\n  const addNewMessage = (message) => {\r\n    addMessage(\r\n      message.textArea.trim(),\r\n      clickDate.toLocaleString('ru', options)\r\n    );\r\n  };\r\n\r\n  return (\r\n    profiles && (\r\n      <main className={style.messages}>\r\n        <ListFriends profiles={profiles} />\r\n        <ListMessagesContainer />\r\n        <AddMessageForm onSubmit={addNewMessage} />\r\n      </main>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../../hoc/withAuthRedirect';\r\nimport { addMessage } from '../../../redux/messages-reducer';\r\nimport { getUserProfile } from '../../../redux/users-reducer';\r\nimport {\r\n  getUsersCurrentPage,\r\n  getUsersProfiles,\r\n  getUsersSearchFriends,\r\n  getUsersSearchName,\r\n  getUsersSizePage,\r\n} from '../../../selectors/users-selectors';\r\nimport Messages from './Messages';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profiles: getUsersProfiles(state),\r\n    currentPage: getUsersCurrentPage(state),\r\n    sizePage: getUsersSizePage(state),\r\n    searchName: getUsersSearchName(state),\r\n    searchFriends: getUsersSearchFriends(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    addMessage\r\n  }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(Messages);\r\n"],"sourceRoot":""}