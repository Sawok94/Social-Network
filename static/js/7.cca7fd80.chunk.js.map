{"version":3,"sources":["hoc/withAuthRedirect.jsx","utils/validators/validators.js","utils/validators/Forms/ValidationForms.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","utils/validators/Forms/ValidationForms.js","selectors/profiles-selectors.js","components/Main/Settings/Settings.module.css","components/Main/Settings/SettingsInfo/SettingsInfo.module.css","components/Main/Settings/SettingsInfo/SettingsInfo.jsx","components/Main/Settings/Settings.jsx","assets/download.png","components/Main/Settings/SettingsContainer.jsx"],"names":["withAuthRedirect","Component","connect","mapStateToProps","props","isAuth","to","state","getIsAuth","required","value","maxLength","number","length","module","exports","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Textarea","input","meta","hasError","touched","error","className","style","input_successful","input_error","text_error","Input","getProfilesPosts","profiles","posts","getProfilesProfile","profile","getProfilesProfileSetting","profileForSettings","getProfilesStatus","status","getProfilesUpdateAvatar","updateAvatar","getProfilesUpdateInfo","updateInfo","maxLengthNickName","maxLengthTextArea","maxLengthUrl","reduxForm","form","onSubmit","handleSubmit","setting_info","setting_info_edit","Field","name","component","placeholder","validate","setting_field_name","setting_field_scills","setting_field_aboutMe","type","setting_field_job","setting_social","contacts","map","setting_btn","Settings","useEffect","getProfileSettings","myId","container","border","wrapper","setting","setting_avatar","setting_avatar_wrapper","setting_avatar_load","htmlFor","onChange","e","files","updateAvatarPhoto","setting_avatar_file","id","setting_avatar_img","src","alt","setting_avatar_succes","profileInfo","updateProfileInfo","initialValues","Preloader","compose","getAuthId"],"mappings":"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","file":"static/js/7.cca7fd80.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { getIsAuth } from '../selectors/auth-selectors';\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  const AuthRedirect = (props) => {\r\n    if (!props.isAuth) {\r\n      return <Redirect to='/login' />;\r\n    }\r\n\r\n    return <Component {...props} />;\r\n  };\r\n\r\n  let RedirectContainer = connect(mapStateToProps)(AuthRedirect);\r\n\r\n  return RedirectContainer;\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: getIsAuth(state),\r\n});\r\n","export const required = (value) => {\r\n  if (!value) return 'Поле обязательно для заполнения';\r\n  return undefined;\r\n};\r\n\r\nexport const maxLength = (number) => (value) => {\r\n  if (value && value.length > number)\r\n    return `Максимальная длина ${number} символов`;\r\n  return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input_successful\":\"ValidationForms_input_successful__1OJyI\",\"input_error\":\"ValidationForms_input_error__n5M-D\",\"text_error\":\"ValidationForms_text_error__1yU9Q\"};","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react';\r\nimport style from './ValidationForms.module.css';\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div>\r\n      <textarea\r\n        className={`${style.input_successful} ${hasError && style.input_error}`}\r\n        {...props}\r\n        {...input}\r\n      />\r\n      {hasError && (\r\n        <div className={style.text_error}>\r\n          &#9940;\r\n          {meta.error}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        className={`${style.input_successful} ${\r\n          hasError && style.input_error\r\n        }`}\r\n        {...props}\r\n        {...input}\r\n      />\r\n      {hasError && (\r\n        <div className={style.text_error}>\r\n          &#9940;\r\n          {meta.error}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export const getProfilesPosts = (state) => {\r\n  return state.profiles.posts;\r\n};\r\n\r\nexport const getProfilesProfile = (state) => {\r\n  return state.profiles.profile;\r\n};\r\n\r\nexport const getProfilesProfileSetting = (state) => {\r\n  return state.profiles.profileForSettings;\r\n};\r\n\r\nexport const getProfilesStatus = (state) => {\r\n  return state.profiles.status;\r\n};\r\n\r\nexport const getProfilesUpdateAvatar = (state) => {\r\n  return state.profiles.updateAvatar;\r\n};\r\n\r\nexport const getProfilesUpdateInfo = (state) => {\r\n  return state.profiles.updateInfo;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"setting\":\"Settings_setting__2UrHN\",\"setting_avatar\":\"Settings_setting_avatar__3O5DX\",\"setting_avatar_wrapper\":\"Settings_setting_avatar_wrapper__3xaRz\",\"setting_avatar_load\":\"Settings_setting_avatar_load__3XFIm\",\"setting_avatar_file\":\"Settings_setting_avatar_file__2BZ67\",\"setting_avatar_img\":\"Settings_setting_avatar_img__3oEMp\",\"setting_avatar_succes\":\"Settings_setting_avatar_succes__2iOBe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"setting_info_edit\":\"SettingsInfo_setting_info_edit__3lc8P\",\"setting_field_name\":\"SettingsInfo_setting_field_name__2tyIL\",\"setting_field_scills\":\"SettingsInfo_setting_field_scills__2IYGr\",\"setting_field_aboutMe\":\"SettingsInfo_setting_field_aboutMe__2eBTW\",\"setting_btn\":\"SettingsInfo_setting_btn__26HoV\"};","import React from 'react';\r\nimport style from './SettingsInfo.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLength } from '../../../../utils/validators/validators';\r\nimport {\r\n  Input,\r\n  Textarea,\r\n} from '../../../../utils/validators/Forms/ValidationForms';\r\n\r\nconst maxLengthNickName = maxLength(30);\r\nconst maxLengthTextArea = maxLength(500);\r\nconst maxLengthUrl = maxLength(100);\r\n\r\nconst SettingsInfo = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <section className={style.setting_info}>\r\n        <b>Обо мне</b>\r\n        <table className={style.setting_info_edit}>\r\n          <tbody>\r\n            <tr>\r\n              <th>Мой никнейм:</th>\r\n              <td>\r\n                <Field\r\n                  name='fullName'\r\n                  component={Input}\r\n                  placeholder='Введите имя...'\r\n                  validate={[maxLengthNickName]}\r\n                  className={style.setting_field_name}\r\n                  required\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th>Мои навыки:</th>\r\n              <td>\r\n                <Field\r\n                  name='lookingForAJobDescription'\r\n                  component={Textarea}\r\n                  validate={[maxLengthTextArea]}\r\n                  placeholder='Опишите Ваши навыки...'\r\n                  className={style.setting_field_scills}\r\n                  required\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th>Обо мне:</th>\r\n              <td>\r\n                <Field\r\n                  name='aboutMe'\r\n                  component={Textarea}\r\n                  placeholder='Расскажите о себе...'\r\n                  validate={[maxLengthTextArea]}\r\n                  className={style.setting_field_aboutMe}\r\n                  required\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th>Ищу работу:</th>\r\n              <td>\r\n                <Field\r\n                  name='lookingForAJob'\r\n                  component='input'\r\n                  type='checkbox'\r\n                  className={style.setting_field_job}\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n      <hr />\r\n      <section className={style.setting_social}>\r\n        <b>Социальные сети</b>\r\n        <div>\r\n          <table className={style.setting_info_edit}>\r\n            <tbody>\r\n              {Object.keys(props.profile.contacts).map((key) => {\r\n                return (\r\n                  <tr key={key}>\r\n                    <th>{key}:</th>\r\n                    <td>\r\n                      <Field\r\n                        name={`contacts.${key}`}\r\n                        component={Input}\r\n                        type='url'\r\n                        placeholder='Введите URL адрес...'\r\n                        validate={[maxLengthUrl]}\r\n                        className={style.setting_field_name}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n\r\n      <button className={style.setting_btn}>Сохранить</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default reduxForm({\r\n  form: 'profileInfo',\r\n})(SettingsInfo);\r\n","import React, { useEffect } from 'react';\r\nimport style from '../Settings/Settings.module.css';\r\nimport border from '../Main.module.css';\r\nimport SettingsInfo from './SettingsInfo/SettingsInfo.jsx';\r\nimport Preloader from '../../../utils/OverallComponents/Preloader/Preloader';\r\nimport downloadImg from '../../../assets/download.png';\r\n\r\nconst Settings = (props) => {\r\n  useEffect(() => {\r\n    props.getProfileSettings(props.myId);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  let photoSelected = (e) => {\r\n    e.target.files.length && props.updateAvatarPhoto(e.target.files[0]);\r\n  };\r\n\r\n  let updateInfo = (profileInfo) => {\r\n    props.updateProfileInfo(profileInfo);\r\n  };\r\n\r\n  return (\r\n    <main className={`${style.container} ${border.wrapper}`}>\r\n      {!props.profileForSettings ? (\r\n        <Preloader />\r\n      ) : (\r\n        <article className={style.setting}>\r\n          <section className={style.setting_avatar}>\r\n            <b>Обновить аватарку</b>\r\n            <div className={style.setting_avatar_wrapper}>\r\n              <label\r\n                className={style.setting_avatar_load}\r\n                htmlFor='input__file'\r\n              >\r\n                <input\r\n                  type='file'\r\n                  onChange={photoSelected}\r\n                  className={style.setting_avatar_file}\r\n                  id='input__file'\r\n                />\r\n                <img\r\n                  className={style.setting_avatar_img}\r\n                  src={downloadImg}\r\n                  alt='downloadImg'\r\n                />\r\n                <b>Выберите файл</b>\r\n              </label>\r\n            </div>\r\n          </section>\r\n          {props.updateAvatar && (\r\n            <aside className={style.setting_avatar_succes}>\r\n              * Фотография обновлена\r\n            </aside>\r\n          )}\r\n          <hr />\r\n          <SettingsInfo\r\n            onSubmit={updateInfo}\r\n            initialValues={props.profileForSettings}\r\n            profile={props.profileForSettings}\r\n          />\r\n          {props.updateInfo && (\r\n            <aside className={style.setting_avatar_succes}>\r\n              * Информация обновлена\r\n            </aside>\r\n          )}\r\n        </article>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\nexport default Settings;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAA4UlEQVQ4Ee2SPQrCQBBGd7UwoFYW3iEWNqkNpPSOegx7vYGHEBW1EBRsZH0jjATZuPkRK8P3spPJzLdLMsZ8+bIhP+fcgJoUREtr7UmC2mA4B9UsZNQKFfC+B6q+BkVrGcOiXm/+b+j9LJWS3jlkRta46N8dEndBdOW2B9GFmRxLEATD1Dl3hiLJu0nQKF+AUwJHeNeBRJKvLR3TGMMGVBLHpQ18hTiNYAdbaGamG2AUQUeff7o+x4bd2+w6hQjq6EbTgjG6sxqDYQZNlYlZ/oQyV3JSyVdFTrZ6nbBq96f6B5Sk3B78JImwAAAAAElFTkSuQmCC\"","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../../hoc/withAuthRedirect';\r\nimport {\r\n  updateProfileInfo,\r\n  updateAvatarPhoto,\r\n  getProfileSettings,\r\n} from '../../../redux/profiles-reducer';\r\nimport { getAuthId } from '../../../selectors/auth-selectors';\r\nimport {\r\n  getProfilesProfileSetting,\r\n  getProfilesUpdateAvatar,\r\n  getProfilesUpdateInfo,\r\n} from '../../../selectors/profiles-selectors';\r\nimport Settings from './Settings';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profileForSettings: getProfilesProfileSetting(state),\r\n    updateAvatar: getProfilesUpdateAvatar(state),\r\n    updateInfo: getProfilesUpdateInfo(state),\r\n    myId: getAuthId(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    updateAvatarPhoto,\r\n    updateProfileInfo,\r\n    getProfileSettings,\r\n  }),\r\n  withAuthRedirect\r\n)(Settings);\r\n"],"sourceRoot":""}